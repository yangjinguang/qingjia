angular.module("ng-context-menu",[]).directive("contextMenu",["$window","$parse",function(n,e){return{restrict:"A",link:function(t,o,u){function a(n,e){e.addClass("open"),e.css("top",n.pageY+"px"),e.css("left",n.pageX+"px"),p=!0}function c(n){p=!1,n.removeClass("open")}function i(n){r||!p||2===n.button&&n.target===l||t.$apply(function(){c(d)})}var l,p=!1,r=t.$eval(u.contextMenuDisabled),s=angular.element(n),d=angular.element(document.getElementById(u.target)),f=e(u.contextMenu);d.css("position","absolute"),o.bind("contextmenu",function(n){r||(l=n.target,n.preventDefault(),n.stopPropagation(),t.$apply(function(){f(t,{$event:n}),a(n,d)}))}),s.bind("keyup",function(n){!r&&p&&27===n.keyCode&&t.$apply(function(){c(d)})}),s.bind("click",i),s.bind("contextmenu",i)}}}]);